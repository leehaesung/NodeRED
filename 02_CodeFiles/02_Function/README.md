# Code files

***

* [Writing functions: http://nodered.org/docs/writing-functions](http://nodered.org/docs/writing-functions)

***

* Basic Functions

![functions.png](https://github.com/leehaesung/NodeRED/blob/master/02_CodeFiles/02_Function/functions.png)
```````````````````````````````````````````````````
[{"id":"4fcc146b.22285c","type":"debug","z":"ba94f081.1dae4","name":"Output","active":true,"console":"false","complete":"payload","x":973.6666259765625,"y":328,"wires":[]},{"id":"cd44319.cdc57d","type":"debug","z":"ba94f081.1dae4","name":"2nd Output","active":true,"console":"false","complete":"payload","x":993.6666259765625,"y":408,"wires":[]},{"id":"b625f00f.97836","type":"debug","z":"ba94f081.1dae4","name":"3rd Output","active":true,"console":"false","complete":"payload","x":993.6666259765625,"y":488,"wires":[]},{"id":"e79bda80.4b3be8","type":"function","z":"ba94f081.1dae4","name":"Array","func":"var msg1 = { payload:\"first message\" };\nvar msg2 = { payload:\"second message\" };\nvar msg3 = { payload:\"third message\" };\nvar msg4 = { payload:\"fourth message\" };\nreturn [msg1, msg2, msg3, msg4];","outputs":1,"noerr":0,"x":473.6666259765625,"y":228,"wires":[["4fcc146b.22285c"]]},{"id":"ac8adf00.006a2","type":"function","z":"ba94f081.1dae4","name":"Array in Array","func":"var msg1 = { payload:\"first message\" };\nvar msg2 = { payload:\"second message\" };\nvar msg3 = { payload:\"third message\" };\nvar msg4 = { payload:\"fourth message\" };\nreturn [[msg1, msg2, msg3, msg4]]","outputs":1,"noerr":0,"x":443.6666259765625,"y":268,"wires":[["4fcc146b.22285c"]]},{"id":"b9b157fe.eea018","type":"function","z":"ba94f081.1dae4","name":"Multiple returns","func":"var msg1 = { payload:\"first message\" };\nvar msg2 = { payload:\"second message\" };\nvar msg3 = { payload:\"third message\" };\nvar msg4 = { payload:\"fourth message\" };\nreturn [msg1, msg2, msg3, msg4];\n","outputs":"3","noerr":0,"x":443.6666259765625,"y":348,"wires":[["4fcc146b.22285c"],["cd44319.cdc57d"],["b625f00f.97836"]]},{"id":"a8559bb0.04d1c8","type":"function","z":"ba94f081.1dae4","name":"Multiple returns array in array","func":"var msg1 = { payload:\"first message\" };\nvar msg2 = { payload:\"second message\" };\nvar msg3 = { payload:\"third message\" };\nvar msg4 = { payload:\"fourth message\" };\nreturn [msg1, [msg2, msg3], msg4];\n","outputs":"3","noerr":0,"x":403.6666259765625,"y":408,"wires":[["4fcc146b.22285c"],["cd44319.cdc57d"],["b625f00f.97836"]]},{"id":"31f96873.1dfe98","type":"function","z":"ba94f081.1dae4","name":"Create JSON Object","func":"msg.payload = {\"a\" : { \"b\" : \"test\"}};\nreturn msg;","outputs":1,"noerr":0,"x":423.6666259765625,"y":488,"wires":[["4fcc146b.22285c","774b237a.b12a8c"]]},{"id":"6b789133.b2b1c","type":"function","z":"ba94f081.1dae4","name":"Create JSON String","func":"msg.payload = '{\"a\" : { \"b\" : \"test\"}}';\nreturn msg;","outputs":1,"noerr":0,"x":433.6666259765625,"y":528,"wires":[["4fcc146b.22285c","774b237a.b12a8c"]]},{"id":"790aec7f.7a8ad4","type":"function","z":"ba94f081.1dae4","name":"Create JSON String in msg.payload","func":"msg.payload = '{\"a\" : { \"b\" : \"test\"}}';\nreturn msg;","outputs":1,"noerr":0,"x":383.6666259765625,"y":568,"wires":[["4fcc146b.22285c","fae55e97.e1e78"]]},{"id":"be2ef565.32e018","type":"function","z":"ba94f081.1dae4","name":"return string in object","func":"return {\"payload\" : \"Hello Coursera\"};","outputs":1,"noerr":0,"x":423.6666259765625,"y":128,"wires":[["4fcc146b.22285c"]]},{"id":"fae55e97.e1e78","type":"json","z":"ba94f081.1dae4","name":"","x":613.6666259765625,"y":568,"wires":[["cd44319.cdc57d","774b237a.b12a8c"]]},{"id":"774b237a.b12a8c","type":"function","z":"ba94f081.1dae4","name":"retrieve data from Object","func":"msg.payload = msg.payload.a.b;\nreturn msg;","outputs":1,"noerr":0,"x":773.6666259765625,"y":478,"wires":[["b625f00f.97836"]]},{"id":"a4fd0d8d.66ab6","type":"inject","z":"ba94f081.1dae4","name":"","topic":"","payload":"","payloadType":"none","repeat":"","crontab":"","once":false,"x":133.6666259765625,"y":228,"wires":[["e79bda80.4b3be8"]]},{"id":"50f62fb8.19888","type":"inject","z":"ba94f081.1dae4","name":"","topic":"","payload":"","payloadType":"none","repeat":"","crontab":"","once":false,"x":133.6666259765625,"y":268,"wires":[["ac8adf00.006a2"]]},{"id":"a4a4c409.604188","type":"inject","z":"ba94f081.1dae4","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":133.6666259765625,"y":348,"wires":[["b9b157fe.eea018"]]},{"id":"96f8fd84.14e4b","type":"inject","z":"ba94f081.1dae4","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":133.6666259765625,"y":408,"wires":[["a8559bb0.04d1c8"]]},{"id":"b979ba73.09e488","type":"inject","z":"ba94f081.1dae4","name":"","topic":"","payload":"","payloadType":"none","repeat":"","crontab":"","once":false,"x":133.6666259765625,"y":488,"wires":[["31f96873.1dfe98"]]},{"id":"775ac295.ec15fc","type":"inject","z":"ba94f081.1dae4","name":"","topic":"","payload":"","payloadType":"none","repeat":"","crontab":"","once":false,"x":133.6666259765625,"y":528,"wires":[["6b789133.b2b1c"]]},{"id":"74f0b255.d7602c","type":"inject","z":"ba94f081.1dae4","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":133.6666259765625,"y":568,"wires":[["790aec7f.7a8ad4"]]},{"id":"2d3b875e.cd5f08","type":"inject","z":"ba94f081.1dae4","name":"","topic":"","payload":"","payloadType":"none","repeat":"","crontab":"","once":false,"x":133.6666259765625,"y":128,"wires":[["be2ef565.32e018"]]},{"id":"1fed1ed5.a0cea1","type":"function","z":"ba94f081.1dae4","name":"Status and logging functions","func":"node.status({text:\"started\"});\n\nsetTimeout(function() {\n    node.status({fill:\"red\",shape:\"ring\",text:\"stage 1\"});\n    \n    setTimeout(function() {\n        node.status({fill:\"green\",shape:\"dot\",text:\"stage 2\"});\n        node.error(\"This is an error\", {'payload' : 'Caught error'});\n        \n        setTimeout(function() {\n            node.error(\"Second error\");\n            node.status({});\n            node.send({'payload' : 'Completed'});\n        }, 1000);\n        \n    }, 1000);\n    \n}, 1000);\n\nnode.warn(\"Exiting node\");\nreturn;","outputs":1,"noerr":0,"x":403.6666259765625,"y":628,"wires":[["4fcc146b.22285c"]]},{"id":"5a1506af.c34fb8","type":"inject","z":"ba94f081.1dae4","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":133.6666259765625,"y":628,"wires":[["1fed1ed5.a0cea1"]]},{"id":"ebe37a21.2b4e18","type":"catch","z":"ba94f081.1dae4","name":"Catch node","scope":["1fed1ed5.a0cea1"],"x":453.6666259765625,"y":668,"wires":[["10944414.b7e54c"]]},{"id":"e8968498.0ecd08","type":"function","z":"ba94f081.1dae4","name":"return string","func":"return 'This is a string';","outputs":1,"noerr":0,"x":453.6666259765625,"y":88,"wires":[["4fcc146b.22285c"]]},{"id":"fdffa1d6.898b3","type":"inject","z":"ba94f081.1dae4","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":133.6666259765625,"y":88,"wires":[["e8968498.0ecd08"]]},{"id":"10944414.b7e54c","type":"debug","z":"ba94f081.1dae4","name":"entire msg","active":true,"console":"false","complete":"true","x":993.6666259765625,"y":568,"wires":[]}]
```````````````````````````````````````````````````
